**项目介绍:**

本项目是一个面向广大乘客与司机的代驾服务平台，项目基于B2B2C的业务模式，核心包括订单管理、位置采集、司机管理、乘客管理、支付管理等模块。

 

技术方案:**SpringCloud + Nacos + Redis + MySQL+ MongDB +RabbitMQ + MinIO + Drools + Seata**

 

1. 使用**Redisson分布式锁**方案解决司机抢单超卖问题
2. 采用**Redis发布-订阅模式**将订单发送给满足条件的司机，司机端轮询消息队列查询订单
3. 探索使用**RabbitMQ+Redisson**双模式实现订单超时取消
4. 探索**Seata**方式实现分布式事务
5. 引入微信支付，实现乘客下单和司机分账功能，采用使用Quartz定时器创建定时任务，乘客微信支付2分钟后开启异步线程执行微信分账定时任务，并在乘客付款20分钟后进行主动查询微信分账结果
6. 前端定时传路线的点集到后端，**存储在MongoDB**
7. 司机端对接**腾讯云**的证件认证服务和对象存储服务，前端实时录音存储到腾讯云，乘客端实现一键报警功能，保证乘客安全。
8. 到达目的地后，通过**RabbitMQ给用户发生订单支付消息引导用户支付**。这里串行执行效率过低，引入**CompletableFuture进行异步编排。**